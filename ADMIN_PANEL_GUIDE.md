# üë®‚Äçüíº –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## üìã –û–±–∑–æ—Ä

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ—Ö –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ –∏–º–µ—é—Ç —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.

**URL:** `/admin`

---

## üéØ –§—É–Ω–∫—Ü–∏–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

1. **–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
   - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–º–∏)

2. **–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
   - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–µ—Ä–≤—ã–µ 8 —Å–∏–º–≤–æ–ª–æ–≤)
   - Email
   - –ò–º—è
   - –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (—Ñ–æ—Ä–º–∞—Ç: –î–î.–ú–ú.–ì–ì–ì–ì –ß–ß:–ú–ú)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π

3. **UI/UX:**
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
   - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   - –°—á—ë—Ç—á–∏–∫ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –≤—Ö–æ–¥–µ

4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/auth/signin` –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
   - API –∑–∞—â–∏—â—ë–Ω middleware

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É

```
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/auth/signin
2. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
3. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏"
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

```
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ http://localhost:3000/admin
```

### –®–∞–≥ 3: –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–í —Ç–∞–±–ª–∏—Ü–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| **ID** | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–ø–µ—Ä–≤—ã–µ 8 —Å–∏–º–≤–æ–ª–æ–≤) |
| **Email** | Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **–ò–º—è** | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏–ª–∏ "‚Äî" –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ) |
| **–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** | –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è |
| **–ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏** | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Å–µ—Å—Å–∏–π |

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   /admin (page)     ‚îÇ
‚îÇ   React Component   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚îÇ fetch('/api/admin/users')
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  API Route Handler  ‚îÇ
‚îÇ  getServerSession() ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚îÇ Prisma query
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   PostgreSQL DB     ‚îÇ
‚îÇ   users table       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –§–∞–π–ª—ã

**Frontend:**
- `src/app/admin/page.tsx` - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

**Backend:**
- `src/app/api/admin/users/route.ts` - API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**Middleware:**
- `src/middleware.ts` - –ó–∞—â–∏—Ç–∞ —Ä–æ—É—Ç–∞ `/admin`

### API Endpoint

**GET /api/admin/users**

**–ó–∞—â–∏—Ç–∞:** –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

**Response:**
```json
{
  "users": [
    {
      "id": "clxxxx123456",
      "email": "user@example.com",
      "name": "John Doe",
      "createdAt": "2024-01-15T10:30:00.000Z",
      "updatedAt": "2024-01-15T10:30:00.000Z",
      "_count": {
        "sessions": 2
      }
    }
  ]
}
```

**Errors:**
- `401` - –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ä—ã:

1. **Middleware –∑–∞—â–∏—Ç–∞**
   ```typescript
   // src/middleware.ts
   export const config = {
       matcher: ["/profile/:path*", "/admin/:path*"],
   };
   ```

2. **Server-side –ø—Ä–æ–≤–µ—Ä–∫–∞**
   ```typescript
   const session = await getServerSession(authOptions);
   if (!session) {
       return NextResponse.json({ error: "–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è" }, { status: 401 });
   }
   ```

3. **Client-side –∑–∞—â–∏—Ç–∞**
   ```typescript
   const { data: session, status } = useSession();
   if (status === "unauthenticated") {
       router.push("/auth/signin");
   }
   ```

### –ß—Ç–æ –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:

- ‚ùå –ü–∞—Ä–æ–ª–∏ (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –∏–∑ –ë–î)
- ‚ùå –¢–æ–∫–µ–Ω—ã
- ‚ùå Sensitive –¥–∞–Ω–Ω—ã–µ

---

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Prisma Studio

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

```bash
npm run db:studio
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è http://localhost:5555 —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º –ë–î

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Prisma Studio:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

---

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª—è

–û—Ç–∫—Ä–æ–π—Ç–µ `src/app/admin/page.tsx` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Ü–≤–µ—Ç–∞:

```typescript
// –ó–∞–≥–æ–ª–æ–≤–æ–∫
<div className="bg-[#9A8A88] px-6 py-4">  // –ó–∞–º–µ–Ω–∏—Ç–µ —Ü–≤–µ—Ç

// –¢–∞–±–ª–∏—Ü–∞
<tr className="hover:bg-gray-50 transition-colors">  // Hover —ç—Ñ—Ñ–µ–∫—Ç
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

```typescript
const [filter, setFilter] = useState("");

const filteredUsers = users.filter(user =>
    user.email.toLowerCase().includes(filter.toLowerCase())
);
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

```typescript
const [page, setPage] = useState(1);
const perPage = 20;
const startIndex = (page - 1) * perPage;
const paginatedUsers = users.slice(startIndex, startIndex + perPage);
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

```typescript
const [sortBy, setSortBy] = useState<'email' | 'createdAt'>('createdAt');
const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('desc');

const sortedUsers = [...users].sort((a, b) => {
    if (sortBy === 'email') {
        return sortOrder === 'asc'
            ? a.email.localeCompare(b.email)
            : b.email.localeCompare(a.email);
    }
    // ... –∏ —Ç.–¥.
});
```

---

## üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**1. –°–æ–∑–¥–∞–π—Ç–µ API endpoint:**

`src/app/api/admin/users/[id]/route.ts`:
```typescript
import { NextRequest, NextResponse } from "next/server";
import { getServerSession } from "next-auth";
import { authOptions } from "@/lib/auth";
import { prisma } from "@/lib/prisma";

export async function DELETE(
    request: NextRequest,
    { params }: { params: { id: string } }
) {
    const session = await getServerSession(authOptions);

    if (!session) {
        return NextResponse.json({ error: "Unauthorized" }, { status: 401 });
    }

    try {
        await prisma.user.delete({
            where: { id: params.id },
        });

        return NextResponse.json({ message: "User deleted" });
    } catch (error) {
        return NextResponse.json({ error: "Failed to delete" }, { status: 500 });
    }
}
```

**2. –î–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É –≤ UI:**

```typescript
const handleDelete = async (userId: string) => {
    if (!confirm("–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?")) return;

    await fetch(`/api/admin/users/${userId}`, { method: "DELETE" });
    // –û–±–Ω–æ–≤–∏—Ç–µ —Å–ø–∏—Å–æ–∫
    fetchUsers();
};

// –í —Ç–∞–±–ª–∏—Ü–µ:
<td>
    <button onClick={() => handleDelete(user.id)}>–£–¥–∞–ª–∏—Ç—å</button>
</td>
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å–æ–∑–¥–∞–π—Ç–µ PUT/PATCH endpoint –∏ —Ñ–æ—Ä–º—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π

**1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ö–µ–º—É:**

`prisma/schema.prisma`:
```prisma
model User {
  // ...
  role String @default("user") // "user" | "admin"
}
```

**2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é:**
```bash
npm run db:push
```

**3. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–æ–ª—å –≤ middleware:**
```typescript
const user = await prisma.user.findUnique({
    where: { email: token.email }
});

if (user?.role !== "admin") {
    return false; // –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –¥–æ—Å—Ç—É–ø
}
```

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

`src/app/api/admin/stats/route.ts`:
```typescript
export async function GET() {
    const session = await getServerSession(authOptions);
    if (!session) {
        return NextResponse.json({ error: "Unauthorized" }, { status: 401 });
    }

    const totalUsers = await prisma.user.count();
    const todayUsers = await prisma.user.count({
        where: {
            createdAt: {
                gte: new Date(new Date().setHours(0, 0, 0, 0)),
            },
        },
    });

    const weekUsers = await prisma.user.count({
        where: {
            createdAt: {
                gte: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),
            },
        },
    });

    return NextResponse.json({
        total: totalUsers,
        today: todayUsers,
        week: weekUsers,
    });
}
```

**–û—Ç–æ–±—Ä–∞–∑–∏—Ç–µ –≤ UI:**
```typescript
<div className="grid grid-cols-3 gap-4 mb-6">
    <div className="bg-blue-50 p-4! rounded">
        <p className="text-sm text-gray-600">–í—Å–µ–≥–æ</p>
        <p className="text-2xl font-bold">{stats.total}</p>
    </div>
    <div className="bg-green-50 p-4! rounded">
        <p className="text-sm text-gray-600">–°–µ–≥–æ–¥–Ω—è</p>
        <p className="text-2xl font-bold">{stats.today}</p>
    </div>
    <div className="bg-purple-50 p-4! rounded">
        <p className="text-sm text-gray-600">–ó–∞ –Ω–µ–¥–µ–ª—é</p>
        <p className="text-2xl font-bold">{stats.week}</p>
    </div>
</div>
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–∞—Ç
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—á—ë—Ç—á–∏–∫ —Å–µ—Å—Å–∏–π
6. ‚úÖ –í—ã–π–¥–∏—Ç–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å `/admin` (–¥–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç)

### API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

```bash
# –ë–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 401)
curl http://localhost:3000/api/admin/users

# –° cookie —Å–µ—Å—Å–∏–∏ (–¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ)
curl http://localhost:3000/api/admin/users \
  -H "Cookie: next-auth.session-token=–≤–∞—à-—Ç–æ–∫–µ–Ω"
```

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—É—Å—Ç–∞—è —Ç–∞–±–ª–∏—Ü–∞

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –ï—Å—Ç—å –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ –ë–î (`npm run db:studio`)
2. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ª–∏ API –∑–∞–ø—Ä–æ—Å (–æ—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network)
3. –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

### –ü—Ä–æ–±–ª–µ–º–∞: 401 Unauthorized

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞ - –≤–æ–π–¥–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
2. NEXTAUTH_SECRET –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç
3. Cookie –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env.local
echo $NEXTAUTH_SECRET

# –û—á–∏—Å—Ç–∏—Ç–µ cookies
# DevTools ‚Üí Application ‚Üí Cookies ‚Üí –£–¥–∞–ª–∏—Ç–µ –≤—Å–µ
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**

1. –î–æ–±–∞–≤—å—Ç–µ –∏–Ω–¥–µ–∫—Å –≤ Prisma:
```prisma
model User {
  // ...
  @@index([createdAt])
}
```

2. –î–æ–±–∞–≤—å—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é (—Å–º. –≤—ã—à–µ)

3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Server Components —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [NextAuth Documentation](https://next-auth.js.org/)
- [Prisma Queries](https://www.prisma.io/docs/concepts/components/prisma-client/crud)
- [React Hooks](https://react.dev/reference/react)

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

- [x] UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [x] API endpoint –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] –ó–∞—â–∏—Ç–∞ middleware –≤–∫–ª—é—á–µ–Ω–∞
- [x] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è
- [x] –î–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [x] –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ü–∞–≥–∏–Ω–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

**–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ**

–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ—Å—Ç–æ –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `/admin`
